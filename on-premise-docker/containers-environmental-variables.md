# Environment Variables

## DecisionRules Environment Variables

All variables can be set either in the docker-compose configuration file or directly as a command-line parameter before running the containers.

### Server environment variables

| Variable name      | Description                                 | Mandatory                         | Version                                                    | Example value                                      |
| ------------------ | ------------------------------------------- | --------------------------------- | ---------------------------------------------------------- | -------------------------------------------------- |
| REDIS\_URL         | Redis URL                                   | Yes                               |                                                            | redis(s)://host.docker.internal:6379               |
| SOLVER\_REDIS\_URL | Redis URL for solver                        | Yes                               | Not needed from version 1.6.0, will use REDIS\_URL instead | redis(s)://host.docker.internal:6379               |
| MONGO\_DB\_URI     | Mongo URL                                   | Yes                               |                                                            | mongodb(+srv)://host.docker.internal:27017         |
| CLIENT\_URL        | Url on which client container is accessible | Yes                               |                                                            | http://localhost:80/**# (# is mandatory)**         |
| LICENSE\_KEY       | License key string                          | Yes                               |                                                            | YOUR LICENSE KEY                                   |
| DB\_TYPE           | Specify MongoDB type                        | If you use CosmosDB or DocumentDB | Available from 1.8.2                                       | <p>MONGODB (default)<br>COSMOSDB<br>DOCUMENTDB</p> |

### License Key Validation

Your server must have access to host [https://license.decisionrules.io/](https://license.decisionrules.io/). You won't be able to start the container without the connectivity to the license server.

### Optional server environment variables

| Variable name           | Description                                                                                                                   | Mandatory | Version               | Example value                                                                                                                      |
| ----------------------- | ----------------------------------------------------------------------------------------------------------------------------- | --------- | --------------------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| SHOWCASE                | Turn on or off showcase mode                                                                                                  | No        |                       | true/false                                                                                                                         |
| WORKERS\_NUMBER         | Sets number of workers (threads) of application                                                                               | No        |                       | 1                                                                                                                                  |
| BI\_MONGO\_DB\_URI      | If you have a separate database cluster for Business Intelligence App                                                         | No        | From version 1.10.0   | mongodb(+srv)://host.docker.internal:27018                                                                                         |
| SAML\_ENTRY\_POINT      | URL for your identity provider login page                                                                                     | No        |                       | https://devX.okta.com/app/name/HASH/sso/saml                                                                                       |
| SAML\_ISSUER            | Issuer string to supply to IdP                                                                                                | No        |                       | okta.com/HASH\_STRING                                                                                                              |
| SAML\_CERT              | Public certificate of provider. In RAW format as single line withou BEGIN CERTIFICATE and END CERTIFICATE                     | No        |                       | MIIC8DCCAdigAwIBAgIQap4GhMRA26tJGFD.....                                                                                           |
| SAML\_CALLBACK\_URL     | Callback URL where provider send response                                                                                     | No        |                       | https://api.decisionrules.io/saml/callback                                                                                         |
| RF\_TIMEOUT             | Time in milliseconds after which the process of solving a **rule flow** is stopped                                            | No        |                       | 10000                                                                                                                              |
| SR\_TIMEOUT             | Time in milliseconds after which the process of solving a **scripting rule** is stopped                                       | No        |                       | 10000                                                                                                                              |
| RF\_NODE\_LIMIT         | Integer of desired rule flow nodes, default value is 30                                                                       | No        |                       | 30                                                                                                                                 |
| SWAGGER\_HOST           | Host of the server application which will use swagger                                                                         | No        |                       | api.decisionrules.io                                                                                                               |
| WHITELIST               | List of allowed domains from which it is possible to register or log in. You can setup multiple domains separated with comma. | No        |                       | mydomain.com, yourdomain.io                                                                                                        |
| ALLOWLIST               | Cultural-neutral synonym for WHITELIST.                                                                                       | No        |                       | mydomain.com, yourdomain.io                                                                                                        |
| TELEMETRY               | It turn on/off telemetry, which measures endpoint execution duration (for example: Solver API)                                | No        | Available from 1.8.1  | On = 1, off = 0                                                                                                                    |
| EXAPI\__MAX_\_CNT\_LEN  | Defined maximal response content length in bytes                                                                              | No        |                       | 3000                                                                                                                               |
| EXAPI\__MAX_\_BODY\_LEN | Defined maximal body size for request in bytes                                                                                | No        |                       | 10000                                                                                                                              |
| EXAPI\__MAX_\_REDIRECTS | Defines maximal redirects that called url can perform                                                                         | No        |                       | 5                                                                                                                                  |
| EXAPI\__TIMEOUT_        | Defines API connection timeout in miliseconds                                                                                 | No        |                       | 2000                                                                                                                               |
| DT\_HTTP\_CALL\_LIMIT   | Defined limit for http function that can be defined in DT or DTR                                                              | No        | Available from 1.12.0 | 100                                                                                                                                |
| LOGGER\_TYPE            | <p>Select log output format/logger type<br><br>STRING is default value if not evn variable is set</p>                         | No        |                       | <p>Possible options: <br>STRING<br>JSON</p>                                                                                        |
| LOGGER\_TIMESTAMP\_UTC  | <p>Select log timestamp format<br>If true: YYYY-MM-DDTHH:mm:ss.SSSZ<br>if false: YYYY-MM-DDTHH:mm:ss.SSS(+-)HH:mm</p>         | No        | Available from 1.14.2 | true/false                                                                                                                         |
| REDIS\_PING\_INTERVAL   | Duration (in milliseconds) for which the server pings the Redis server.                                                       | No        | Available from 1.14.3 | 300000                                                                                                                             |
| REDIS\_CACERT           | CA certificate for TLS connection with Redis                                                                                  | NO        | Available from 1.14.5 | CA certificate as a single line without BEGIN CERTIFICATE and END CERTIFICATE. For example(MIIC8DCCAdigAwIBAgIQap4GhMRA26tJGFD...) |

### Client environment variables

| Variable name | Description                                          | Mandatory                                                        | Version             | Example value         |
| ------------- | ---------------------------------------------------- | ---------------------------------------------------------------- | ------------------- | --------------------- |
| API\_URL      | Url on which backend API is accessible               | Yes                                                              |                     | http://localhost:8080 |
| BI\_API\_URL  | Url on which Business Intelligence API is accessible | No, but the features related to Business Intelligence won't work | From version 1.10.0 | http://localhost:8082 |
| NGINX\_PORT   | Custom port on which the container will run          | No                                                               | From version 1.9.3  | 80                    |

### Audit environment variables

<table><thead><tr><th width="252">Variable name</th><th>Description</th><th>Mandatory</th><th>Example value</th></tr></thead><tbody><tr><td>BI_MONGO_DB_URI</td><td>Mongo URL of Business Intelligence App</td><td>Yes</td><td>mongodb(+srv)://host.docker.internal:27017</td></tr><tr><td>MONGO_DB_URI</td><td>In case you have a separate database cluster for Server App</td><td>No</td><td>mongodb(+srv)://host.docker.internal:27018</td></tr><tr><td>WORKERS_NUMBER</td><td>Sets number of workers (threads) of application</td><td>No</td><td>1</td></tr><tr><td>DB_TYPE</td><td>If you use CosmosDB or DocumentDB</td><td>No</td><td>MONGODB (default)<br>COSMOSDB<br>DOCUMENTDB</td></tr><tr><td>LOGGER_TYPE</td><td>Select log output format/logger type<br><br>STRING is default value if not evn variable is set</td><td>No</td><td>Possible options: <br>STRING<br>JSON</td></tr><tr><td>LOGGER_TIMESTAMP_UTC</td><td>Select log timestamp format<br>If true: YYYY-MM-DDTHH:mm:ss.SSSZ<br>if false: YYYY-MM-DDTHH:mm:ss.SSS(+-)HH:mm</td><td>No</td><td>true/false</td></tr></tbody></table>

### Kafka env variables

<table><thead><tr><th width="197">Variable name</th><th>Description</th><th>Mandatory</th><th>Example value</th></tr></thead><tbody><tr><td>KAFKA_ENABLED</td><td>Turn Kafka on/off</td><td>Yes (Kafka is disabled by default)</td><td>1/0</td></tr><tr><td>KAFKA_<em>CLUSTER_CLIENTID</em></td><td>A logical identifier of an application.</td><td>Yes</td><td>"my-app"</td></tr><tr><td>KAFKA_<em>CLUSTER_BROKERS</em></td><td>Broker definition</td><td>Yes</td><td>"my-broker:9092, my-broker2:9092"</td></tr><tr><td>KAFKA_<em>CLUSTER_SSL</em></td><td>SSL on/off</td><td>Yes</td><td>"true"</td></tr><tr><td>KAFKA_<em>CLUSTER_SASL_MECHANISM</em></td><td>Definition of Kafka SASL mechanism.</td><td>Yes</td><td>"plain"</td></tr><tr><td>KAFKA_<em>CLUSTER_SASL_USERNAME</em></td><td>SASL username</td><td>No</td><td>"my-username"</td></tr><tr><td>KAFKA_<em>CLUSTER_SASL_PASSWORD</em></td><td>SASL password</td><td>No</td><td>"top-secret-password"</td></tr><tr><td>KAFKA_<em>CLUSTER_SASL_AUTHID</em></td><td>SASL authorization identity for aws mechanism</td><td>No</td><td>"IDIDIDIDID"</td></tr><tr><td>KAFKA_<em>CLUSTER_SASL_ACCKEYID</em></td><td>SASL access key for aws mechanism</td><td>No</td><td>"KEYKEYKEY"</td></tr><tr><td>KAFKA_<em>CLUSTER_SASL_SECRETKEY</em></td><td>SASL secret access key for aws mechanism</td><td>No</td><td>"SECRETKEY"</td></tr><tr><td>KAFKA_<em>CLUSTER_SASL_SESSIONTOKEN</em></td><td>SASL session token for aws mechanism</td><td>No</td><td>"SESSIONTOKEN"</td></tr><tr><td>KAFKA_<em>GROUP_TOPIC_1</em></td><td>Definition of kafka topic, use numbers 1,2,...,N where N is INT for multiple TOPIC GROUPS</td><td>Yes</td><td>"my-group, my-request-topic, my-response-topic"</td></tr></tbody></table>

